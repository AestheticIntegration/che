{
  "name": "org.eclipse.che.ls.json",
  "version": "1.0.0",
  "dependencies": [
    "org.eclipse.che.base"
  ],
  "properties": {},
  "script": [
    "CHE_HOME=$HOME/che",
    "",
    "LS=vscode-json-server",
    "LS_HOME=$CHE_HOME/ls-json",
    "",
    "MACHINE_TYPE=`uname -m`",
    "if [ ${MACHINE_TYPE} == 'x86_64' ]; then",
    "    NODEJS=node-v0.12.9-linux-x64",
    "else",
    "    NODEJS=node-v0.12.9-linux-x86",
    "fi",
    "NODEJS_HOME=$CHE_HOME/$NODEJS",
    "",
    "# install LS",
    "if [ ! -d \"$LS_HOME\" ];  then mkdir -p $LS_HOME; fi",
    "wget -O $CHE_HOME/$LS https://codenvy.com/update/repository/public/download/org.eclipse.che.ls.json.binaries",
    "tar xvzf $CHE_HOME/$LS -C $LS_HOME",
    "",
    "# install NodeJs",
    "if [ ! -d \"$NODEJS_HOME\" ]; then",
    "    wget -O $CHE_HOME/$NODEJS.tar.gz https://nodejs.org/dist/v0.12.9/$NODEJS.tar.gz",
    "    tar xvzf $CHE_HOME/$NODEJS.tar.gz -C $CHE_HOME",
    "fi",
    "",
    "",
    "# create launcher",
    "touch $LS_HOME/launch.sh",
    "echo \"$NODEJS_HOME/bin/node $LS_HOME/$LS/server.js\" > $LS_HOME/launch.sh",
    "chmod +x $LS_HOME/launch.sh"
  ]
}
